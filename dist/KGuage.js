!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";e.a=s;var i=n(3),o=n.n(i),r=n(5),a=(n.n(r),0);function s(t,e,n,i,o){var r=(new Date).getTime(),a=!0,s=e-t;return window.requestAnimationFrame(function(){return function e(){var u=(new Date).getTime()-r,l=Math.min(u/n,1),h=l;o&&(h=o(l)),i(t+h*s),l<1&&a&&window.requestAnimationFrame(function(){return e()})}()}),function(){a=!1}}e.b={name:"k-guage",props:{width:{type:Number,default:200},height:{type:Number,default:150},value:{default:10},min:{type:Number,default:0},max:{type:Number,default:100},animationDuration:{type:Number,default:1e3},doughnut:{type:Boolean},formatFunction:{type:Function,default:Math.round},colorSteps:{type:Array,default:function(){return["#a9d70b","#f9c802","#ff0000"]}},valueFontStyle:{type:String,default:'font-size: 35px; fill: #010101; font-weight: bold; font-family: "Arial"'},labelFontStyle:{type:String,default:"font: 10px Arial; fill: #b3b3b3"},minMaxFontStyle:{type:String,default:"font: 11px Arial; fill: #b4b4b4"},animateOnLoad:{type:Boolean,default:!0},labelText:{type:String,default:""},showMinMax:{type:Boolean,default:!0},guageSize:{type:Number,default:1},shadowOpacity:{type:Number,default:.2},backgroundColor:{type:String,default:"#edebeb"},easingFunction:{type:Function,default:function(t){return t*(2-t)}}},data:function(){var t=this.colorSteps.map(function(t){for(var e=[],n=1;n<t.length;n+=2)e.push(o()("0x".concat(t.substr(n,2))));return e});return{shownValue:this.animateOnLoad?this.min:this.value,printValue:this.animateOnLoad?this.min:this.formatFunction(this.value),backgroundPath:"",guageColor:"",builtColorSteps:t,animationCanceler:null,renderId:"k-guage-filter-".concat(++a),minTextX:0,maxTextX:0}},mounted:function(){this.$watch(function(t){return[t.height,t.width,t.doughnut,t.guageSize]},this.resetBgArc),this.resetBgArc()},methods:{makeArc:function(t){var e=this.guageSize,n=this.doughnut?0:30,i=250,o=this.doughnut?250:150;if(this.doughnut){var r=(1-2*(t-this.min)/(this.max-this.min))*Math.PI,a=125-i/30,s=a-37.5*e,u=.5*o+n,l=125+a*Math.cos(r),h=u-a*Math.sin(r),c=125+s*Math.cos(r),f=u-s*Math.sin(r),d="M"+(125-s)+","+u+" ";return d+="L"+(125-a)+","+u+" ",t>(this.max-this.min)/2&&(d+="A"+a+","+a+" 0 0 1 "+(125+a)+","+u+" "),d+="A"+a+","+a+" 0 0 1 "+l+","+h+" ",d+="L"+c+","+f+" ",t>(this.max-this.min)/2&&(d+="A"+s+","+s+" 0 0 0 "+(125+s)+","+u+" "),{path:d+="A"+s+","+s+" 0 0 0 "+(125-s)+","+u+" ",minTextX:60,maxTextX:190}}var m=(1-(t-this.min)/(this.max-this.min))*Math.PI,p=100-37.5*e,g=o/1.5+n,x=125+100*Math.cos(m),b=g-100*Math.sin(m),y=125+p*Math.cos(m),v=125-p,_="M"+v+","+g+" ";return _+="L25,"+g+" ",_+="A100,100 0 0 1 "+x+","+b+" ",_+="L"+y+","+(g-p*Math.sin(m))+" ",_+="A"+p+","+p+" 0 0 0 "+v+","+g+" ",{path:_+="Z ",minTextX:25+.5*(v-25),maxTextX:y+.5*(x-y)}},resetBgArc:function(){var t=this.makeArc(this.max);this.backgroundPath=t.path,this.minTextX=t.minTextX,this.maxTextX=t.maxTextX},getColorForValue:function(t){var e=this,n=this.builtColorSteps.length;if(t===this.max)return this.builtColorSteps[n-1];var i=t/this.max*(n-1),o=Math.floor(i),r=i%1;return this.builtColorSteps[o].map(function(t,n){return t+(e.builtColorSteps[o+1][n]-t)*r})},checkLimits:function(t){return Math.max(this.min,Math.min(this.max,t))}},computed:{guagePath:function(){return this.makeArc(this.shownValue)},strokeStyle:function(){return this.doughnut?"transform: rotate(90deg); transform-origin: 50% 50%":""}},watch:{value:{handler:function(t){var e=this;this.animationCanceler&&this.animationCanceler(),this.animationCanceler=s(this.shownValue,this.checkLimits(t),this.animationDuration,function(t){e.shownValue=e.checkLimits(t),e.printValue=e.formatFunction(e.shownValue)},this.easingFunction)},immediate:!0},shownValue:{handler:function(t){var e=this.getColorForValue(t).join(",");this.guageColor="rgb(".concat(e,")")},immediate:!0}}}},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);n.d(e,"animateCalc",function(){return i.a});var o=n(6),r=n(7),a=Object(r.a)(i.b,o.a,o.b,!1,null,null,null);a.options.__file="src/KGuage.vue",e.default=a.exports},function(t,e,n){t.exports=n(4)},function(t,e){t.exports=require("core-js/library/fn/parse-int")},function(t,e){t.exports=require("core-js/modules/es6.number.constructor")},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{height:t.height,version:"1.1",width:t.width,viewBox:"0 0 250 "+(t.doughnut?250:150),xmlns:"http://www.w3.org/2000/svg"}},[t.shadowOpacity?n("filter",{attrs:{id:t.renderId}},[n("feOffset",{attrs:{dx:"0",dy:"3"}}),t._v(" "),n("feGaussianBlur",{attrs:{result:"offset-blur",stdDeviation:"5"}}),t._v(" "),n("feComposite",{attrs:{operator:"out",in:"SourceGraphic",in2:"offset-blur",result:"inverse"}}),t._v(" "),n("feFlood",{attrs:{"flood-color":"black","flood-opacity":t.shadowOpacity,result:"color"}}),t._v(" "),n("feComposite",{attrs:{operator:"in",in:"color",in2:"inverse",result:"shadow"}}),t._v(" "),n("feComposite",{attrs:{operator:"over",in:"shadow",in2:"SourceGraphic"}})],1):t._e(),t._v(" "),n("path",{style:t.strokeStyle,attrs:{fill:t.backgroundColor,stroke:"none",d:t.backgroundPath,filter:"url(#"+t.renderId+")"}}),t._v(" "),n("path",{style:t.strokeStyle,attrs:{fill:t.guageColor,stroke:"none",d:t.guagePath.path,filter:"url(#"+t.renderId+")"}}),t._v(" "),n("text",{style:t.valueFontStyle,attrs:{x:"125",y:"128","alignment-baseline":"baseline","text-anchor":"middle"},domProps:{innerHTML:t._s(t.printValue)}}),t._v(" "),n("text",{style:t.labelFontStyle,attrs:{x:"125",y:"133","text-anchor":"middle","alignment-baseline":"hanging"},domProps:{innerHTML:t._s(t.labelText)}}),t._v(" "),t.showMinMax?n("text",{style:t.minMaxFontStyle,attrs:{x:t.minTextX,y:t.doughnut?125:133,"alignment-baseline":t.doughnut?"middle":"hanging","text-anchor":"middle"},domProps:{innerHTML:t._s(t.min)}}):t._e(),t._v(" "),t.showMinMax?n("text",{style:t.minMaxFontStyle,attrs:{x:t.maxTextX,y:t.doughnut?125:133,"alignment-baseline":t.doughnut?"middle":"hanging","text-anchor":"middle"},domProps:{innerHTML:t._s(t.max)}}):t._e()])},o=[];i._withStripped=!0},function(t,e,n){"use strict";e.a=function(t,e,n,i,o,r,a,s){var u=typeof(t=t||{}).default;"object"!==u&&"function"!==u||(t=t.default);var l,h="function"==typeof t?t.options:t;e&&(h.render=e,h.staticRenderFns=n,h._compiled=!0);i&&(h.functional=!0);r&&(h._scopeId=r);a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=l):o&&(l=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o);if(l)if(h.functional){h._injectStyles=l;var c=h.render;h.render=function(t,e){return l.call(e),c(t,e)}}else{var f=h.beforeCreate;h.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:h}}}])});